{"ast":null,"code":"var _jsxFileName = \"D:\\\\JAI_PUBG\\\\FRONT-END\\\\pubg_tournment\\\\src\\\\Pages\\\\findMatch.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport Select from 'react-select';\nimport { StickyContainer, Sticky } from 'react-sticky';\nimport './findMatch.css';\nimport Input from '../FormElements/Input';\nimport { VALIDATOR_REQUIRE } from '../FormElements/validater';\nimport Card from '../UIElements/Card';\nimport Button from '../FormElements/Button';\nimport { useForm } from '../Hook/Form-hook';\nimport { AuthContext } from '../context/AuthContext';\nimport { useHttpClient } from '../Hook/Http-Hook';\nimport { Link, useHistory } from 'react-router-dom';\nimport LoadingSpinner from '../UIElements/LoadingSpinner';\nimport ErrorModal from '../UIElements/Error'; // import GPayButton from 'react-google-pay-button'\n\nconst Signup = props => {\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  const [optionsFine, setOPtionsFine] = useState([]);\n  const [RRselected, setRRselected] = useState(false);\n  const [AVAIL, setAVAIL] = useState();\n  const [emptySEAT, setemptySEAT] = useState(false);\n  useEffect(() => {\n    const send = async () => {\n      // document.body.style.backgroundImage=\"url('https://www.hdwallpapers.in/download/alan_walker_a_ap_rocky_live_fast_pubg_4k-3840x2160.jpg')\";\n      // document.body.style.backgroundRepeat='no-repeat';\n      // document.body.style.backgroundSize='cover';\n      if (auth.isLogedIn) try {\n        const options = [{\n          value: '1',\n          label: 'One'\n        }, {\n          value: '2',\n          label: 'Two'\n        }, {\n          value: '3',\n          label: 'Three'\n        }, {\n          value: '4',\n          label: 'Four'\n        }];\n        const responseData = await sendRequest(`http://localhost:5000/JAI_PUBG/${auth.UserId}/SEAT`);\n        console.log(\"response for seat is\" + responseData.SEAT);\n        setAVAIL(responseData.SEAT);\n        console.log('avail is ' + AVAIL);\n        if (AVAIL === 0) setemptySEAT(true);else if (AVAIL === 2) {\n          //1-3,2-2,3-1\n          if (auth.Players.length > AVAIL) {\n            setOPtionsFine(options.slice(0, 4 - auth.Players.length));\n          } else {\n            setOPtionsFine(options.slice(0, AVAIL));\n          }\n        } else if (AVAIL === 1) setOPtionsFine(options.slice(0, AVAIL));else setOPtionsFine(options.slice(0, 4 - auth.Players.length));\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    send();\n  }, [sendRequest, auth.UserId, AVAIL, auth.Players.length, auth.isLogedIn]);\n  const [selected, setSelected] = useState(0);\n  const [formstate, inputHandler] = useForm({\n    first: undefined,\n    second: undefined,\n    third: undefined,\n    fourth: undefined\n  }, false);\n\n  const handleSelection = selectedValue => {\n    setSelected(selectedValue.value);\n\n    if (selectedValue.value === 2) {}\n  };\n\n  const submitHandler = async event => {\n    event.preventDefault(); // setLoacalStoring(true);\n\n    console.log(formstate.inputs.first + ' is from state and selected' + selected);\n    var PArray = [formstate.inputs.first.value];\n\n    try {\n      if (selected > 1) PArray.push(formstate.inputs.second.value);else if (selected > 2) PArray.push(formstate.inputs.third.value);else PArray.push(formstate.inputs.fourth.value);\n    } catch (err) {} // const formData=new FormData();\n    //   formData.append('phonenumber',auth.Phone);\n    //   formData.append('players',PArray);\n    //   formData.append('uid',auth.UserID)\n\n\n    const formData = JSON.stringify({\n      phonenumber: auth.Phone,\n      players: PArray,\n      uid: auth.UserId\n    });\n    console.log('form data' + formData);\n\n    try {\n      const responseData = await sendRequest(`http://localhost:5000/JAI_PUBG/Register`, 'POST', {\n        'Content-Type': 'application/json'\n      }, formData); //responese handling\n\n      console.log(responseData.Users.phonenumber + '\\n' + responseData.Users._id + '\\n' + responseData.Users.players + ' is response of register');\n      auth.LOGIN(responseData.Users._id, responseData.Users.phonenumber, responseData.Users.players);\n      history.push('/room');\n    } catch (err) {}\n  }; //GPay code\n  // const loadPaymentDataHandler = paymentData => {\n  //   console.log('App.loadPaymentDataHandler: paymentData', paymentData)\n  //   // const paymentToken = paymentData.paymentMethodData.tokenizationData.token\n  // }\n  // const paymentAuthorizedHandler = paymentData => {\n  //   console.log('App.paymentAuthorizedHandler: paymentData', paymentData)\n  //   // const paymentToken = paymentData.paymentMethodData.tokenizationData.token\n  //   // TODO execute payment\n  // }\n  // const onUserCanceledHandler = paymentRequest => {\n  //   console.log('App.onUserCanceledHandler: paymentRequest', paymentRequest)\n  // }\n  // const paymentDataChangedHandler = paymentData => {\n  //   console.log('App.paymentDataChangedHandler: paymentData', paymentData)\n  // }\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ErrorModal, {\n    error: error,\n    onClear: clearError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }), isLoading && /*#__PURE__*/React.createElement(LoadingSpinner, {\n    asOverlay: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }), !auth.isLogedIn && !isLoading && /*#__PURE__*/React.createElement(Card, {\n    className: \"authentication\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"authentication__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, \" YOU ARE NOT LOGED IN\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, \"Click here\"))), auth.isLogedIn && !isLoading && auth.Players.length === 4 && /*#__PURE__*/React.createElement(Card, {\n    className: \"authentication\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"authentication__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, \" YOU ALREADY REGISTERED MAX SEAT\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    to: \"/room\",\n    primary: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, \"Click here for ROOM ID\")), !isLoading && auth.isLogedIn && emptySEAT && /*#__PURE__*/React.createElement(Card, {\n    className: \"authentication\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 56\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"authentication__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, \" ALL SEATS ARE SALED\")), !isLoading && auth.isLogedIn && !emptySEAT && auth.Players.length !== 4 && /*#__PURE__*/React.createElement(\"form\", {\n    className: \"selector\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 83\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    theme: theme => ({ ...theme,\n      borderRadius: 10,\n      colors: { ...theme.colors,\n        primary25: 'lightblue',\n        primary: 'black'\n      }\n    }),\n    placeholder: \"Select the number of players,you want to REGISTER\",\n    defaultValue: selected,\n    onChange: handleSelection,\n    options: optionsFine,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(StickyContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Sticky, {\n    bottomOffset: 80,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    to: \"/room\",\n    exact: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }, \"ROOM ID\")))), selected && /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  }, \"You have to pay \", selected * 10, \"\\u20B9 \"), selected && /*#__PURE__*/React.createElement(Card, {\n    className: \"authentication\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"authentication\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, selected > 0 && /*#__PURE__*/React.createElement(Input, {\n    id: \"first\",\n    type: \"text\",\n    label: \"Enter First player name as per PUBG\",\n    value: \"\",\n    element: \"input\",\n    validators: [VALIDATOR_REQUIRE()],\n    errorText: \"Enter the field as per PUBG account, otherwise you won't allow for match\",\n    onInput: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 30\n    }\n  }), selected > 1 && /*#__PURE__*/React.createElement(Input, {\n    id: \"second\",\n    type: \"text\",\n    element: \"input\",\n    label: \"Enter Second player name as per PUBG\",\n    value: \"\",\n    validators: [VALIDATOR_REQUIRE()],\n    errorText: \"Enter the field as per PUBG account, otherwise you won't allow for match\",\n    onInput: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 30\n    }\n  }), selected > 2 && /*#__PURE__*/React.createElement(Input, {\n    id: \"third\",\n    element: \"input\",\n    type: \"text\",\n    label: \"Enter Third player name as per PUBG\",\n    value: \"\",\n    validators: [VALIDATOR_REQUIRE()],\n    errorText: \"Enter the field as per PUBG account, otherwise you won't allow for match\",\n    onInput: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 31\n    }\n  }), selected > 3 && /*#__PURE__*/React.createElement(Input, {\n    id: \"fourth\",\n    type: \"text\",\n    element: \"input\",\n    label: \"Enter Fourth player name as per PUBG\",\n    value: \"\",\n    validators: [VALIDATOR_REQUIRE()],\n    errorText: \"Enter the field as per PUBG account, otherwise you won't allow for match\",\n    onInput: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 32\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    onChange: () => {\n      setRRselected(!RRselected);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 18\n    }\n  }), \"By clicking this u r dead\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    onClick: submitHandler,\n    disabled: !RRselected || !formstate.isValid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 18\n    }\n  }, \"JAI PUBG\"))));\n};\n\nexport default Signup;","map":{"version":3,"sources":["D:/JAI_PUBG/FRONT-END/pubg_tournment/src/Pages/findMatch.js"],"names":["React","useContext","useState","useEffect","Select","StickyContainer","Sticky","Input","VALIDATOR_REQUIRE","Card","Button","useForm","AuthContext","useHttpClient","Link","useHistory","LoadingSpinner","ErrorModal","Signup","props","history","auth","isLoading","error","sendRequest","clearError","optionsFine","setOPtionsFine","RRselected","setRRselected","AVAIL","setAVAIL","emptySEAT","setemptySEAT","send","isLogedIn","options","value","label","responseData","UserId","console","log","SEAT","Players","length","slice","err","selected","setSelected","formstate","inputHandler","first","undefined","second","third","fourth","handleSelection","selectedValue","submitHandler","event","preventDefault","inputs","PArray","push","formData","JSON","stringify","phonenumber","Phone","players","uid","Users","_id","LOGIN","theme","borderRadius","colors","primary25","primary","isValid"],"mappings":"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","sourcesContent":["import React, { useContext, useState,useEffect } from 'react'\r\nimport Select from 'react-select'\r\nimport { StickyContainer, Sticky } from 'react-sticky';\r\n\r\nimport './findMatch.css'\r\nimport Input from '../FormElements/Input'\r\nimport {VALIDATOR_REQUIRE} from '../FormElements/validater'\r\nimport Card from '../UIElements/Card'\r\nimport Button from '../FormElements/Button'\r\nimport {useForm} from '../Hook/Form-hook'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {useHttpClient} from '../Hook/Http-Hook'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport LoadingSpinner from '../UIElements/LoadingSpinner'\r\nimport ErrorModal from '../UIElements/Error'\r\n\r\n// import GPayButton from 'react-google-pay-button'\r\n\r\nconst Signup=props=>{\r\n  const history=useHistory();\r\n  const auth=useContext(AuthContext);\r\n  const {isLoading,error,sendRequest,clearError}=useHttpClient();\r\n\r\n  \r\n  const [optionsFine,setOPtionsFine]=useState([]);\r\n\r\n  const [RRselected,setRRselected]=useState(false);\r\n  const [AVAIL, setAVAIL] = useState();\r\n  const [emptySEAT,setemptySEAT]=useState(false)\r\n\r\n  useEffect(() => {\r\n    const send = async () => {\r\n      // document.body.style.backgroundImage=\"url('https://www.hdwallpapers.in/download/alan_walker_a_ap_rocky_live_fast_pubg_4k-3840x2160.jpg')\";\r\n      // document.body.style.backgroundRepeat='no-repeat';\r\n      // document.body.style.backgroundSize='cover';\r\n      \r\n      if(auth.isLogedIn)\r\n      try {\r\n        const options=[\r\n          {value:'1',label:'One'},\r\n          {value:'2',label:'Two'},\r\n          {value:'3',label:'Three'},\r\n          {value:'4',label:'Four'}\r\n        ];\r\n       const responseData= await sendRequest(`http://localhost:5000/JAI_PUBG/${auth.UserId}/SEAT`);\r\n        console.log(\"response for seat is\"+responseData.SEAT);\r\n        setAVAIL(responseData.SEAT);\r\n        console.log('avail is '+AVAIL);\r\n        if(AVAIL===0 ) setemptySEAT(true)\r\n        else if(AVAIL===2){//1-3,2-2,3-1\r\n          if(auth.Players.length>AVAIL){\r\n            setOPtionsFine(options.slice(0,4-(auth.Players.length)));\r\n          }\r\n          else{\r\n            setOPtionsFine(options.slice(0,AVAIL));\r\n          }\r\n        }\r\n      \r\n        else if(AVAIL===1)  setOPtionsFine(options.slice(0,AVAIL));\r\n        else setOPtionsFine(options.slice(0,4-(auth.Players.length)));\r\n    }\r\n       catch (err) {console.log(err);}\r\n    };\r\n    send();\r\n\r\n  }, [sendRequest,auth.UserId,AVAIL,auth.Players.length,auth.isLogedIn]);\r\n\r\n \r\n  \r\n\r\n  const [selected,setSelected]=useState(0);\r\n  const [formstate,inputHandler]=useForm(\r\n    {\r\n    first:undefined,\r\n    second:undefined,\r\n    third:undefined,\r\n    fourth:undefined\r\n    },false);\r\n  \r\n  const handleSelection=(selectedValue)=>{\r\n    setSelected(selectedValue.value);\r\n    if(selectedValue.value===2){\r\n\r\n    }\r\n  }\r\n\r\n  const submitHandler=async (event)=>{\r\n    event.preventDefault();\r\n    // setLoacalStoring(true);\r\n    console.log(formstate.inputs.first+' is from state and selected'+selected);\r\n    var PArray=[formstate.inputs.first.value];\r\n    \r\n     try{if(selected>1) PArray.push(formstate.inputs.second.value);\r\n     else if(selected>2) PArray.push(formstate.inputs.third.value);\r\n     else PArray.push(formstate.inputs.fourth.value) }catch(err){}\r\n    \r\n    // const formData=new FormData();\r\n    //   formData.append('phonenumber',auth.Phone);\r\n    //   formData.append('players',PArray);\r\n    //   formData.append('uid',auth.UserID)\r\n\r\n    const formData=JSON.stringify({\r\n      phonenumber:auth.Phone,\r\n      players:PArray,\r\n     uid:auth.UserId \r\n\r\n  })\r\n      console.log('form data'+formData);\r\n    try {\r\n      const responseData= await sendRequest(`http://localhost:5000/JAI_PUBG/Register`,'POST',{'Content-Type':'application/json'},formData);\r\n       //responese handling\r\n       console.log(responseData.Users.phonenumber+'\\n'+responseData.Users._id+'\\n'+responseData.Users.players+' is response of register');\r\n       auth.LOGIN(responseData.Users._id,responseData.Users.phonenumber,responseData.Users.players)\r\n       history.push('/room')\r\n     } catch (err) {}\r\n    \r\n  }\r\n\r\n//GPay code\r\n// const loadPaymentDataHandler = paymentData => {\r\n//   console.log('App.loadPaymentDataHandler: paymentData', paymentData)\r\n//   // const paymentToken = paymentData.paymentMethodData.tokenizationData.token\r\n// }\r\n\r\n// const paymentAuthorizedHandler = paymentData => {\r\n//   console.log('App.paymentAuthorizedHandler: paymentData', paymentData)\r\n//   // const paymentToken = paymentData.paymentMethodData.tokenizationData.token\r\n//   // TODO execute payment\r\n// }\r\n\r\n// const onUserCanceledHandler = paymentRequest => {\r\n//   console.log('App.onUserCanceledHandler: paymentRequest', paymentRequest)\r\n// }\r\n\r\n// const paymentDataChangedHandler = paymentData => {\r\n//   console.log('App.paymentDataChangedHandler: paymentData', paymentData)\r\n// }\r\n\r\n\r\n\r\n\r\n  return(\r\n    <React.Fragment>\r\n\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      \r\n      {isLoading && <LoadingSpinner asOverlay/>\r\n       }\r\n      \r\n            {/* if Not loged in back to login page */}\r\n            {!auth.isLogedIn && !isLoading &&\r\n            <Card className=\"authentication\">\r\n              <h1 className=\"authentication__header\"> YOU ARE NOT LOGED IN</h1>\r\n            <Link to='/login'>\r\n              <Button>Click here</Button>\r\n              </Link>\r\n              </Card>\r\n            }\r\n\r\n            {auth.isLogedIn && !isLoading\r\n             && auth.Players.length===4 \r\n            && <Card className=\"authentication\">\r\n              <h1 className=\"authentication__header\"> YOU ALREADY REGISTERED MAX SEAT</h1>\r\n              <hr/>\r\n              <Button to='/room' primary>Click here for ROOM ID</Button>\r\n              {/* add imogy */}\r\n              </Card>}\r\n\r\n            {/* SELECT PLAYERS */}\r\n        {!isLoading && auth.isLogedIn && emptySEAT &&  <Card className=\"authentication\">\r\n              <h1 className=\"authentication__header\"> ALL SEATS ARE SALED</h1>\r\n              {/* add imogy */}\r\n              </Card>}\r\n        \r\n        {!isLoading && auth.isLogedIn && !emptySEAT && auth.Players.length!==4 && <form className=\"selector\">\r\n          <Select\r\n           theme={theme => ({\r\n            ...theme,\r\n            borderRadius: 10,\r\n            colors: {\r\n              ...theme.colors,\r\n              primary25: 'lightblue',\r\n              primary: 'black',\r\n            },\r\n          })}\r\n          placeholder=\"Select the number of players,you want to REGISTER\"\r\n          defaultValue={selected}\r\n          onChange={handleSelection}\r\n          options={optionsFine}/>\r\n          \r\n          <StickyContainer>\r\n        <Sticky bottomOffset={80}>\r\n          { <Button to='/room' exact='true'>ROOM ID</Button>}\r\n        </Sticky>\r\n        </StickyContainer>\r\n        </form>}\r\n          \r\n          {selected && \r\n          <h1>You have to pay {selected * 10}â‚¹ </h1>}\r\n          {selected && <Card className=\"authentication\">\r\n            <form className=\"authentication\">\r\n              {selected>0 && <Input\r\n               id=\"first\"\r\n               type=\"text\"\r\n               label='Enter First player name as per PUBG'\r\n               value=''\r\n               element='input'\r\n               validators={[VALIDATOR_REQUIRE()]}\r\n               errorText=\"Enter the field as per PUBG account, otherwise you won't allow for match\"\r\n               onInput={inputHandler}/> }\r\n\r\n               \r\n\r\n              {selected>1 && <Input\r\n               id=\"second\"\r\n               type=\"text\"\r\n               element='input'\r\n               label='Enter Second player name as per PUBG'\r\n               value=''\r\n               validators={[VALIDATOR_REQUIRE()]}\r\n               errorText=\"Enter the field as per PUBG account, otherwise you won't allow for match\"\r\n               onInput={inputHandler}/>}\r\n\r\n\r\n               {selected>2 && <Input\r\n                id=\"third\"\r\n                element='input'\r\n                type=\"text\"\r\n                label='Enter Third player name as per PUBG'\r\n                value=''\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                errorText=\"Enter the field as per PUBG account, otherwise you won't allow for match\"\r\n                onInput={inputHandler}/> }\r\n\r\n               \r\n\r\n                {selected>3 && <Input\r\n                 id=\"fourth\"\r\n                 type=\"text\"\r\n                 element='input'\r\n                 label='Enter Fourth player name as per PUBG'\r\n                 value=''\r\n                 validators={[VALIDATOR_REQUIRE()]}\r\n                 errorText=\"Enter the field as per PUBG account, otherwise you won't allow for match\"\r\n                 onInput={inputHandler}/>}\r\n\r\n                <hr/>\r\n                <label>\r\n                 <input type=\"checkbox\"  onChange={()=>{setRRselected(!RRselected)}}/>\r\n                 By clicking this u r dead\r\n                 </label>\r\n                 <hr/>\r\n\r\n                 <Button\r\n                 type=\"submit\"\r\n                 onClick={submitHandler}\r\n                 disabled={!RRselected || !formstate.isValid}>\r\n                    JAI PUBG\r\n                 </Button>\r\n            </form>\r\n             </Card>\r\n          }\r\n            {/* {localStoring &&\r\n               <Card className=\"authentication\">\r\n                    <GPayButton\r\n       fi               totalPriceStatus={'FINAL'}\r\n                      totalPrice={'1.45'}\r\n                      currencyCode={'GBP'}\r\n                      countryCode={'GB'}\r\n                      development={true}\r\n                      onLoadPaymentData={loadPaymentDataHandler}\r\n                      onPaymentAuthorized={paymentAuthorizedHandler}\r\n                      onUserCanceled={onUserCanceledHandler}\r\n                    />\r\n                  \r\n                  </Card>\r\n                } */}\r\n   </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}